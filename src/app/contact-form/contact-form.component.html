<ng-template #contactFormModal let-modal>
  <div class="modal-header">
    <h4 class="modal-title">Kontaktformular</h4>
    <button type="button" class="close" aria-label="Close" (click)="closeModal()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="FormData" (ngSubmit)="onSubmit()">
      <!-- Form fields -->
      <div class="form-group row">
        <div class="col-md-6">
          <label for="anrede">Anrede</label>
          <select id="anrede" class="form-control" name="anrede" formControlName="anrede" required>
            <option value="Herr">Herr</option>
            <option value="Frau">Frau</option>
          </select>
        </div>
        <div class="col-md-6">
          <label for="name">Name</label>
          <input type="text" id="name" class="form-control" name="name" formControlName="name" required>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-md-6">
          <label for="strasse">Straße / Nr</label>
          <input type="text" id="strasse" class="form-control" name="strasse" formControlName="strasse" required>
        </div>
        <div class="col-md-6">
          <label for="plzOrt">PLZ / Ort</label>
          <input type="text" id="plzOrt" class="form-control" name="plzOrt" formControlName="plzOrt" required pattern="^[0-9]+\s+[a-zA-Z]+$">
          <div class="alert alert-danger" role="alert" *ngIf="FormData.get('plzOrt')?.invalid && (FormData.get('plzOrt')?.dirty || FormData.get('plzOrt')?.touched)">
            Bitte geben Sie eine gültige PLZ / Ort ein (z.B., 12345 Musterstadt).
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="telefon">Telefon</label>
        <input type="text" id="telefon" class="form-control" name="telefon" formControlName="telefon" required pattern="[0-9]*">
        <div class="alert alert-danger" role="alert" *ngIf="FormData.get('telefon')?.invalid && (FormData.get('telefon')?.dirty || FormData.get('telefon')?.touched)">
          Bitte geben Sie eine gültige Telefonnummer ein.
        </div>
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" class="form-control" name="email" formControlName="email" required>
        <div class="alert alert-danger" role="alert" *ngIf="FormData.get('email')?.invalid && (FormData.get('email')?.dirty || FormData.get('email')?.touched)">
          Bitte geben Sie eine gültige E-Mail-Adresse ein.
        </div>
      </div>
      <div class="form-group">
        <label for="mitteilung">Mitteilung</label>
        <textarea id="mitteilung" class="form-control mitteilung-textarea" name="mitteilung" formControlName="mitteilung" required></textarea>
      </div>

      <!-- Submit and close buttons -->
      <div class="modal-footer">
        <button type="submit" class="btn btn-primary" [disabled]="!FormData.valid">Formular absenden</button>
        <button type="button" class="btn btn-secondary" (click)="closeModal()">Schließen</button>
      </div>
    </form>
  </div>
</ng-template>

<!-- Button to open the modal -->
<button type="button" class="btn btn-primary" (click)="openModal(contactFormModal)">Schreiben Sie uns</button>
